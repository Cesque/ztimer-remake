<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="https://unpkg.com/vue"></script>
  <script type="module" src="javascripts/timer.js"></script>
  <script type="module" src="javascripts/index.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet">
  <link rel="stylesheet" href="stylesheets/style.css">
  <title>Document</title>
</head>

<body>
  <div id="header"></div>
  <div id="app">
    <div id="box-scramble" class="box">
      <div class="box-header">Scramble</div>
      <div class="box-content">
        <div id="scramble-text">
          <span v-for="turn in timer.currentSolve.scramble.split(' ')" v-bind:style="{ color: settings.coloriseScramble ? turnColors[turn] : '' }">
            {{ turn }}
          </span>
        </div>
      </div>
    </div>
    <div id="box-stats" class="box">
      <div class="box-header">test</div>
      <div class="box-content">
        <div id="session-info">
          <ul>
            <li id="best-time">
              <span class="averages-header">Best solve:</span>
              <span class="averages-data">{{timer.solves.length >= 1 ? timer.averages.best.of1.time : '-'}}</span>
            </li>
            <li><span class="averages-header"></span>Best:</span><ul>
                <li id="bestAO5">
                  <span class="averages-header">AO5:</span>
                  <span class="averages-data">{{timer.solves.length >= 5 ? timer.averages.best.of5.time : '-'}}</span>
                </li>
                <li v-if="timer.solves.count >= 12" id="bestAO12">
                  <span class="averages-header">AO12:</span>
                  <span class="averages-data">{{timer.averages.best.of12.time}}</span>
                </li>
                <li v-if="timer.solves.count >= 50" id="bestAO50">
                  <span class="averages-header">AO50:</span>
                  <span class="averages-data">{{timer.averages.best.of50.time}}</span>
                </li>
              </ul></li>
            <li><span class="averages-header"></span>Current:</span><ul>
              <li id="currentAO5">
                <span class="averages-header">AO5:</span>
                <span class="averages-data">{{timer.solves.length >= 5 ? timer.averages.current.of5.time : '-'}}</span>
              </li>
              <li v-if="timer.solves.count >= 12" id="currentAO12">
                <span class="averages-header">AO12:</span>
                <span class="averages-data">{{timer.averages.current.of12.time}}</span>
              </li>
              <li v-if="timer.solves.count >= 50" id="currentAO50">
                <span class="averages-header">AO50:</span>
                <span class="averages-data">{{timer.averages.current.of50.time}}</span>
              </li>
            </ul></li>
          </ul>
        </div>       
        <div id="times-info">
          <div class="time"
          v-for="(solve, index) in timer.solves"
          v-bind:data-solve-index="index"
          v-on:click="currentFocused = (currentFocused == index) ? -1 : index"
          v-bind:style="timeCellBorders(index)">
            {{ solve.time + solve.penalty }}
          </div>
        </div>
        <div v-if="currentFocused > -1" id="solve-info">
          <div id="test">hello world</div>
        </div>
        <div v-else id="solve-info">

        </div>
      </div>
    </div>
    <div id="box-timer" class="box">
      <div class="box-content">
        <div id="box-timer-top">
          <span v-if="timer.state == 'inspection' && timer.inspectionTimer < 0" id="box-timer-text" class="box-timer-text-inspection box-timer-text-inspection-penalty">
        +2
      </span>
          <span v-else-if="timer.state == 'inspection'" id="box-timer-text" class="box-timer-text-timer">
        {{ timer.inspectionTimer.toFixed(3) }}
      </span>
          <span v-else id="box-timer-text" class="box-timer-text-inspection">
          {{ timer.timer.toFixed(3) }}
        </span>
        </div>
        <div id="box-timer-bottom">
          <button id="get-new-scramble" v-on:click="timer.scramble()">Scramble</button>
        </div>
      </div>
    </div>
  </div>
  </div>
</body>

</html>